[gd_scene load_steps=15 format=2]

[ext_resource path="res://Things/TunnelObjects/Notes/Touch.tscn" type="PackedScene" id=1]
[ext_resource path="res://Things/TunnelObjects/MeasureLine.tscn" type="PackedScene" id=2]
[ext_resource path="res://Things/TunnelObjects/Background/Background.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scripts/Playfield.cs" type="Script" id=4]
[ext_resource path="res://Scripts/Chart/NotesCreator.cs" type="Script" id=5]
[ext_resource path="res://Scripts/Play.cs" type="Script" id=6]
[ext_resource path="res://Fonts/Futura/Futura Medium Italic font.ttf" type="DynamicFontData" id=7]
[ext_resource path="res://Scripts/Strikeline.cs" type="Script" id=8]
[ext_resource path="res://Sounds/tick_beat.mp3" type="AudioStream" id=9]

[sub_resource type="DynamicFont" id=5]
size = 46
font_data = ExtResource( 7 )

[sub_resource type="BoxShape" id=1]
extents = Vector3( 1, 1, 0.017 )

[sub_resource type="BoxShape" id=2]
extents = Vector3( 1, 1, 0.1 )

[sub_resource type="BoxShape" id=3]
extents = Vector3( 1, 1, 0.15 )

[sub_resource type="BoxShape" id=4]
extents = Vector3( 1, 1, 0.2 )

[node name="Play" type="Spatial"]
script = ExtResource( 6 )
npAudioPlayer = NodePath("BGMPlayer")
npPauseText = NodePath("CanvasLayer/CenterContainer/Label")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer"]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Label" type="Label" parent="CanvasLayer/CenterContainer"]
margin_left = 338.0
margin_top = 272.0
margin_right = 686.0
margin_bottom = 328.0
custom_fonts/font = SubResource( 5 )
text = "Game is paused."
align = 1
valign = 1

[node name="Camera" type="Camera" parent="."]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0 )
current = true
fov = 20.3
far = 35.0

[node name="Camera2" type="Camera" parent="."]
transform = Transform( -0.822948, -0.228626, 0.520084, 0, 0.915452, 0.402427, -0.568117, 0.331177, -0.753369, 2.36013, 1.71394, 1.12973 )
fov = 39.2
far = 35.0

[node name="NoteCreator" type="Node" parent="."]
script = ExtResource( 5 )
npScroll = NodePath("../Playfield/Scroll")

[node name="Playfield" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3.84754 )
script = ExtResource( 4 )
npScroll = NodePath("Scroll")
npStrikeline = NodePath("Strikeline")
npTickPlayer = NodePath("../TickPlayer")
npTickDetector = NodePath("TickDetector")

[node name="Strikeline" type="Spatial" parent="Playfield"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 10, 0, 0, -0.00872469 )
script = ExtResource( 8 )

[node name="100" type="Area" parent="Playfield/Strikeline"]

[node name="shape" type="CollisionShape" parent="Playfield/Strikeline/100"]
shape = SubResource( 1 )

[node name="70" type="Area" parent="Playfield/Strikeline"]

[node name="shape" type="CollisionShape" parent="Playfield/Strikeline/70"]
shape = SubResource( 2 )

[node name="50" type="Area" parent="Playfield/Strikeline"]

[node name="shape" type="CollisionShape" parent="Playfield/Strikeline/50"]
shape = SubResource( 3 )

[node name="0" type="Area" parent="Playfield/Strikeline"]

[node name="shape" type="CollisionShape" parent="Playfield/Strikeline/0"]
shape = SubResource( 4 )

[node name="Scroll" type="Spatial" parent="Playfield"]

[node name="MeasureLine" parent="Playfield/Scroll" instance=ExtResource( 2 )]

[node name="Tap" parent="Playfield/Scroll" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.00872469 )

[node name="Background" parent="Playfield" instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.0745192 )
DrawLength = 10.0

[node name="TickDetector" type="Area" parent="Playfield"]

[node name="shape" type="CollisionShape" parent="Playfield/TickDetector"]
shape = SubResource( 1 )

[node name="BGMPlayer" type="AudioStreamPlayer" parent="."]

[node name="TickPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 9 )
mix_target = 2
